# 总结一

系统调用：应用程序请求操作系统提供服务，异步或同步

异常：应用程序意想不到的行为，同步

中断：外设，异步

## 操作系统管理内存的不同方法

1. 程序重定位
2. 分段
3. 分页
4. 虚拟内存
5. 按需分页虚拟内存



## 非连续内存非配（分段segmentation，分页paging，页表page table）

非连续内存分配的优点：一个程序的物理地址空间是非连续的，更好的内存利用和管理，允许共享代码与数据，支持动态加载和动态链接

### 分段

把一段连续的空间分隔开，映射到不同的块，有一个段表存着段号

### 分页

逻辑页和物理页要对应起来。

## 虚拟内存--把不常用的数据放进硬盘中，常用的放进主存中

内存不够时，可以**手动的覆盖**或者**自动的交换**还可以采用**自动的虚拟存储技术**

### 覆盖技术：

把若干个独立的模块共享一块内存，分时操作

### 自动的交换：

将暂时不能运行的程序送到外存从而获得空闲内存空间。

### 虚存技术--解决以上两个的缺点 局部性原理

时间和空间的局部性

在装入程序时，不必将其全部装入到内存，而只需要将当前需要执行的部分页面或段装入到内存，就可让程序开始执行。在程序执行过程中，如果需要执行的指令或访问的数据尚未在内存，则由处理器通知操作系统将相应的页面或段调入到内存，然后继续执行程序。另一方面，操作系统将内存中暂时不使用的页面或段调出保存在外存上，从而腾出更多空闲的空间存放要装入的程序以及将要调入的页面或段                  physical memory + disk = virtual memory

局部和全局性算法

1. 最优页面置换算法
2. 先进先出算法：将内存中存最久的淘汰掉
3. 最近最久未使用算法：当缺页中断发生时，选择最久未使用当页面淘汰掉
4. 时钟页面置换算法
5. 二次机会法
6. 最不常用法：选择访问次数最少的页面

Belady现象：在采用FIFO算法时，有时会出现分配当物理页面数增加，缺页率反而提高的异常现象：意思就是这些算法淘汰的刚好是后面要用的，就会一直产生中断，需要去硬盘拿。

全局页面置换算法

工作集模型











